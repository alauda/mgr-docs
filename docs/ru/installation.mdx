---
weight: 20
i18n:
  title:
    en: Install
    zh: 安装
title: Установка
sourceSHA: 86732c88fba57d5f7c4b96dfb8242187eee93c4066393b643ba4a1afc09790fc
---

## Установка Alauda Container Platform Data Services Essentials

::: tip Дополнительная установка
Плагин служит основным компонентом для веб-консоли Alauda Data Services. Его не обязательно устанавливать, если **веб-консоль** <span /> не требуется.
:::

### Предварительные требования

1. Скачайте пакет установки Alauda Container Platform Data Services Essentials, соответствующий платформе.
2. Используйте возможности публикации приложений платформы для публикации Alauda Container Platform Data Services Essentials в кластер `global`.

### Процедура

<Tabs>
  <Tab label="Веб-консоль">
    1. В левой панели навигации перейдите в **Marketplace** > **Плагины кластера**.
    2. Выберите кластер `global`.
    3. Нажмите кнопку действия рядом с плагином **Alauda Container Platform Data Services Essentials** > **Установить**.
  </Tab>
</Tabs>

## Установка Alauda Container Platform Data Services RDS Framework

::: tip Дополнительная установка
Плагин служит основным компонентом для веб-консоли Alauda Data Services. Его не обязательно устанавливать, если веб-консоль не требуется.
:::

### Предварительные требования

1. Скачайте пакет установки Alauda Container Platform Data Services RDS Framework, соответствующий платформе.
2. Используйте возможности публикации приложений платформы для публикации Alauda Container Platform Data Services RDS Framework в любой кластер, где необходимы представления Data Services.

### Процедура

<Tabs>
  <Tab label="Веб-консоль">
    1. Войдите в платформу и перейдите на страницу **Администратор**.
    2. В левой панели навигации выберите **Marketplace** -> **OperatorHub**, чтобы перейти на страницу **OperatorHub**.
    3. Найдите **Alauda Container Platform Data Services RDS Framework**, нажмите **Установить**, чтобы перейти на страницу установки.

    Параметры конфигурации:

    | **Параметр**             | **Рекомендуемая конфигурация**                                                                                                                   |
    | :------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------ |
    | **Канал**                | Канал по умолчанию - **stable**.                                                                                                                |
    | **Версия**               | Выберите желаемую версию для установки.                                                                                                          |
    | **Режим установки**      | **Кластер**: Все пространства имен под кластером используют один оператор для создания и управления экземплярами, что приводит к меньшему использованию ресурсов.       |
    | **Местоположение установки** | Выберите **Рекомендуемое**: Если ничего нет, оно будет создано автоматически.                                                                   |
    | **Стратегия обновления** | **Ручная**: Когда новая версия доступна в OperatorHub, требуется ручное подтверждение для обновления оператора до последней версии.             |

    4. На странице **Установить оператор** выберите **Конфигурацию по умолчанию**, а затем нажмите **Установить**, чтобы завершить установку **Alauda Container Platform Data Services RDS Framework**.
  </Tab>
</Tabs>

## Установка Alauda Container Platform Data Services Query Analytics

::: tip Дополнительная установка
Плагин служит основным компонентом для функциональных возможностей аналитики запросов. Его не обязательно устанавливать, если мониторинг и анализ производительности запросов не требуются.
:::

### Предварительные требования

1. Скачайте пакет установки Alauda Container Platform Data Services Query Analytics, соответствующий платформе.
2. Используйте возможности публикации приложений платформы для публикации Alauda Container Platform Data Services Query Analytics в любой кластер, где необходимы графические возможности Application Services.

### Процедура

<Tabs>
  <Tab label="Веб-консоль">
    1. Войдите в платформу и перейдите на страницу **Управление платформой**.
    2. В левой панели навигации выберите **Marketplace** -> **Operator Hub**, чтобы перейти на страницу **Operator Hub**.
    3. Найдите **Alauda Container Platform Data Services Query Analytics**, нажмите **Установить**, чтобы перейти на страницу установки.

    Параметры конфигурации:

    | **Параметр**             | **Рекомендуемая конфигурация**                                                                                                                   |
    | :------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------ |
    | **Канал**                | Канал по умолчанию - **stable**.                                                                                                               |
    | **Версия**               | Выберите желаемую версию для установки.                                                                                                          |
    | **Режим установки**      | **Кластер**: Все пространства имен под кластером используют один оператор для создания и управления экземплярами, что приводит к меньшему использованию ресурсов.        |
    | **Местоположение установки** | Выберите **Рекомендуемое**: Если ничего нет, оно будет создано автоматически.                                                                   |
    | **Стратегия обновления** | **Ручная**: Когда новая версия доступна в Operator Hub, требуется ручное подтверждение для обновления оператора до последней версии.            |

    4. На странице **Установить оператор** выберите **Конфигурацию по умолчанию**, а затем нажмите **Установить**, чтобы завершить установку **Alauda Container Platform Data Services Query Analytics**.
  </Tab>
</Tabs>

:::warning Конфигурация хранения
Плагин Query Analytics использует хранилище hostPath по умолчанию по адресу `/cpaas/ck`. Если этот путь не существует (обычно изменяется на `/var/cpaas`), выполните следующие шаги:

1. Отредактируйте ресурс QueryAnalyticsInstaller (`qai`)
2. Настройте `slowSQL.storageClassName` с классом хранения вашего системы
3. Удалите существующие поды и PVC, чтобы изменения вступили в силу

Пример конфигурации:

```yaml
kind: QueryAnalyticsInstaller
metadata:
  name: qai
  resourceVersion: "4145608"
spec:
  slowSQL:
    GRPCPort: "9922"
    HTTPPort: "9911"
    clickhouse:
      clickhouseImage: 192.168.128.24/middleware/clickhouse-server:v24.8.3.59-64c1f43f
      resources:
        limits:
          cpu: "1"
          memory: 2Gi
        requests:
          cpu: "1"
          memory: 2Gi
    dataCleanCorn: 0 0 18 * * ?
    dataKeepDays: "15"
    name: pxc-ck
    namespace: cpaas-system
    server:
      image: 192.168.128.24/middleware/slowsql:2926e899
    storageClassName: mid-topolvmsc
```

:::

## Установка Alauda Database для MySQL-MGR

### Предварительные требования

1. Скачайте пакет установки плагина, соответствующий платформе.
2. Используйте возможности публикации приложений платформы для публикации плагина в любой кластер, где необходимы функции Alauda Database для MySQL-MGR.

### Процедура

<Tabs>
  <Tab label="Веб-консоль">
    1. Войдите в платформу и перейдите на страницу **Администратор**.
    2. В левой панели навигации выберите **Marketplace** -> **OperatorHub**, чтобы перейти на страницу **OperatorHub**.
    3. Найдите **Alauda Database Service для MySQL**, нажмите **Установить**, чтобы перейти на страницу установки.

    Параметры конфигурации:

    | **Параметр**             | **Рекомендуемая конфигурация**                                                                                                                  |
    | :------------------------ | :--------------------------------------------------------------------------------------------------------------------------------------------- |
    | **Канал**                | Канал по умолчанию - **alpha**.                                                                                                              |
    | **Версия**               | Выберите желаемую версию для установки.                                                                                                         |
    | **Режим установки**      | **Кластер**: Все пространства имен под кластером используют один оператор для создания и управления экземплярами, что приводит к меньшему использованию ресурсов.       |
    | **Местоположение установки** | Выберите **Рекомендуемое**: Если ничего нет, оно будет создано автоматически.                                                                  |
    | **Стратегия обновления** | **Ручная**: Когда новая версия доступна в OperatorHub, требуется ручное подтверждение для обновления оператора до последней версии.             |

    4. На странице **Установить оператор** выберите **Конфигурацию по умолчанию**, а затем нажмите **Установить**, чтобы завершить установку.
  </Tab>
</Tabs>
