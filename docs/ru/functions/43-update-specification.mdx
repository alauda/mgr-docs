---
weight: 43
sourceSHA: 8c9ef2c7edda7ec1d474626e64ae73f6df3ceed4a5b3b46bf3ff3d289e486513
---

# Обновление спецификации

С увеличением объема данных становится критически важно своевременно увеличивать ресурсы, прежде чем будет достигнута квота на хранение, чтобы обеспечить непрерывную доступность сервиса. Важно своевременно расширять хранилище, прежде чем достигнется квота на хранение, для обеспечения непрерывной доступности бизнеса. Процесс онлайн-расширения не повлияет на нормальное предоставление услуг.

## Ограничения

- При изменении ресурсов ЦПУ и оперативной памяти пожалуйста, оценивайте на основе бизнес-требований и доступности ресурсов, чтобы избежать сбоев в расширении из-за недостатка или излишка ресурсов, что может привести к тому, что экземпляр не сможет запуститься нормально.
- Количество членов группы: максимальное количество членов группы репликации MySQL составляет 9. Рекомендуется иметь как минимум 3 участника для обеспечения высокой доступности.

## Процедура

<Tabs>
  <Tab label="CLI">
    Чтобы изменить спецификации экземпляра, вы можете управлять этим через поле `spec.mgr.resources` (подробности смотрите в [документации API](../../apis/kubernetes_apis/mgr/01-mysql-mgr)).

    ```bash
    kubectl -n ${namespace} patch mysql ${instance_name} --type=merge --patch='{"spec":{"mgr": {"resources":{"server":{"limits":{"cpu": "4","memory":"8Gi"},"requests":{"cpu":"4", "memory":"8Gi"}}}}}}'
    ```

    Используйте следующую команду для расширения емкости хранения:

    ```bash
    kubectl patch mysql -n ${namespace} ${instance_name} --type='json' -p '[{"op":"replace","path":"/spec/mgr/volumeClaimTemplate/spec/resources/requests/storage","value":"${new_storage}"}]'
    ```

    Используйте следующую команду, чтобы проверить, была ли успешна операция расширения емкости хранения:

    ```bash
    kubectl get pvc -n ${namespace} -l "v1alpha1.mysql.middleware.alauda.io/cluster=${instance_name}"
    ```
  </Tab>

  <Tab label="Веб-консоль">
    1. Нажмите на **MySQL-MGR** в левой навигационной панели.

    2. Нажмите на ***название пространства имен***.

    3. Нажмите на ***название экземпляра***.

    4. На вкладке **Детали** нажмите на **Обновить спецификацию** над топологией.

    5. Заполните желаемое количество реплик и новые спецификации для соответствующих ресурсов.

    6. В **Расширение хранилища** измените **Новую емкость**, чтобы указать желаемый увеличенный объем.

    7. Нажмите **Обновить**.
  </Tab>
</Tabs>

Через некоторое время вы увидите соответствующие изменения в **Спецификациях** в топологии.
